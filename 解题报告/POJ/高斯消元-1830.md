# POJ-1830 开关问题
## 算法：高斯消元（线性代数）
## 题目大意
---
有K组数据，每组数据包含N个开关，每个开关只可能有两个状态（0和1），给出每个开关的初始状态和目标状态，以及它们之间的相互影响关系，求有多少种操作方案使得所有的开关达到目标状态。
## 数据范围及限制
---
数据范围：0<N<29

限制：1 Sec / 30 MB
## 思路
---
注意每个开关的初始状态和目标状态是不同的，故每个开关对应方程的增广值取该开关初始值和目标值的异或值即可（不同取1，表示最终等效效果需变换一次；相同取0，表示最终等效效果不需变换）。

相互影响关系说白了就是对应系数为1，但是有个坑，就是说数据给的是“每行包含两个整数：I J，表示操作I开关对J有影响”，但是实际上表示到方程里是matrix\[J\][I]=1，其意义是“对于第J个开关（的方程），其受到第I个开关的影响”。

大体思路和[POJ1222](https://github.com/seoi2017/OICode/blob/master/%E8%A7%A3%E9%A2%98%E6%8A%A5%E5%91%8A/POJ/%E9%AB%98%E6%96%AF%E6%B6%88%E5%85%83-1222.md "题解-POJ1222")、[POJ1681](https://github.com/seoi2017/OICode/blob/master/%E8%A7%A3%E9%A2%98%E6%8A%A5%E5%91%8A/POJ/%E9%AB%98%E6%96%AF%E6%B6%88%E5%85%83-1681.md "题解-POJ1681")以及[POJ1753](https://github.com/seoi2017/OICode/blob/master/%E8%A7%A3%E9%A2%98%E6%8A%A5%E5%91%8A/POJ/%E9%AB%98%E6%96%AF%E6%B6%88%E5%85%83-1753.md "题解-POJ1753")是一样的，本质都是解异或方程。

然而在思路清晰的情况下，一开始却死WA不过，为什么呢？

经过多次重构和~~抄袭~~参考题解，我发现了问题之所在：

完整而正确的高斯消元，在发现某一列找不到对应主元时，不应直接跳到下一行取寻找下一个主元，而是在当前行寻找下一个主元，不然就会导致最后自由元（全零）方程不能全部集中到最后几行的问题，从而不停WA……

不过幸好，提前发现了这个问题，要是在考场上中了这么一招，那就是真的完蛋了。
## AC代码
详见[POJ-高斯消元-1830](https://github.com/seoi2017/OICode/blob/master/%E9%A2%98%E7%9B%AE/POJ/%E9%AB%98%E6%96%AF%E6%B6%88%E5%85%83-1830.cc "AC Code")